[{"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\reportWebVitals.js":"1","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\App.js":"2","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\NavBar.js":"3","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\shared\\color\\color.js":"4","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\Button.js":"5","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\index.js":"6","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\main.js":"7","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\ActionCreator.js":"8","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\tables.js":"9","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\shared\\url\\baseUrl.js":"10","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\Reservation\\Reservation.js":"11","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\configureStore.js":"12","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\ActionTypes.js":"13","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\DetailsReservation\\DetailsReservation.js":"14","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\users.js":"15","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\dishes.js":"16","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\DishesManage\\DishesManage.js":"17"},{"size":362,"mtime":1609123334404,"results":"18","hashOfConfig":"19"},{"size":377,"mtime":1609563895365,"results":"20","hashOfConfig":"19"},{"size":1246,"mtime":1609992048953,"results":"21","hashOfConfig":"19"},{"size":297,"mtime":1609134096192,"results":"22","hashOfConfig":"19"},{"size":700,"mtime":1609148567986,"results":"23","hashOfConfig":"19"},{"size":547,"mtime":1609730875730,"results":"24","hashOfConfig":"19"},{"size":1671,"mtime":1609905229894,"results":"25","hashOfConfig":"19"},{"size":1833,"mtime":1609853835992,"results":"26","hashOfConfig":"19"},{"size":660,"mtime":1609589160111,"results":"27","hashOfConfig":"19"},{"size":376,"mtime":1609852717143,"results":"28","hashOfConfig":"19"},{"size":5427,"mtime":1610081804637,"results":"29","hashOfConfig":"19"},{"size":466,"mtime":1609854422898,"results":"30","hashOfConfig":"19"},{"size":296,"mtime":1609851657205,"results":"31","hashOfConfig":"19"},{"size":6561,"mtime":1610076125648,"results":"32","hashOfConfig":"19"},{"size":422,"mtime":1609852249515,"results":"33","hashOfConfig":"19"},{"size":416,"mtime":1609851995742,"results":"34","hashOfConfig":"19"},{"size":1358,"mtime":1610081485416,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"bl6i2n",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"43"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"43"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\reportWebVitals.js",[],["74","75"],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\App.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\NavBar.js",[],["76","77"],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\shared\\color\\color.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\Button.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\index.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\main.js",["78"],"import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport NavBar from \"../NavBar\";\n//import component\nimport Reservation from \"./Reservation/Reservation\";\nimport DetailsReservation from \"./DetailsReservation/DetailsReservation\";\nimport DishesManage from \"./DishesManage/DishesManage\";\n//import redux\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { fetchTables, fetchDishes, fetchUser } from \"../../redux/ActionCreator\";\n\n// const mapStateToProps = (state) => {\n//   return {\n//     tables: state.tables,\n//   };\n// };\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     fetchTables: () => dispatch(fetchTables()),\n//   };\n// };\n\nfunction Main(props) {\n  const dispatch = useDispatch();\n\n  const { tables } = useSelector((state) => ({\n    tables: state.tables,\n    dishes: state.dishes,\n    users: state.users,\n  }));\n\n  useEffect(() => {\n    dispatch(fetchTables());\n    dispatch(fetchDishes());\n    dispatch(fetchUser());\n    // props.fetchTables();\n  }, [dispatch]);\n\n  if (tables.errMess) {\n    return <div>Error! {tables.errMess}</div>;\n  }\n  if (tables.isLoading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <Router>\n      <div className=\"App\">\n        <NavBar />\n      </div>\n      <Switch>\n        <Route path=\"/\">\n          <Route path=\"/reservation\" component={Reservation}></Route>\n          <Route\n            path=\"/details/:tableId\"\n            component={DetailsReservation}\n          ></Route>\n          <Route path=\"/dishes\" component={DishesManage}></Route>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default Main;\n","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\ActionCreator.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\tables.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\shared\\url\\baseUrl.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\Reservation\\Reservation.js",["79","80","81","82","83","84","85","86","87","88","89"],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\configureStore.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\ActionTypes.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\DetailsReservation\\DetailsReservation.js",["90","91","92","93","94"],"import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Table } from \"react-bootstrap\";\nimport \"./DetailsReservation.css\";\n//import useParams of react router dom\nimport { useParams } from \"react-router-dom\";\n\nconst mapStateToProps = (state) => {\n  return {\n    tables: state.tables,\n    dishes: state.dishes,\n    users: state.users,\n  };\n};\n\nfunction mapDetailTable(table, dishes, users) {\n  //map dishesId\n  let new_tablesId = table.dishesId.map((dish) => {\n    let a = dish.map((el) => {\n      let count = 0;\n      for (let i = 0; i < dish.length; i++) {\n        if (el === dish[i]) {\n          count = count + 1;\n          //delete 2 or more the same dish\n        }\n      }\n      return {\n        id: el,\n        count: count,\n      };\n    });\n    return a;\n  });\n  new_tablesId = new_tablesId.map((dish) => {\n    let temp = [];\n    return dish.filter((el) => {\n      if (temp.includes(el.id) === false) {\n        temp.push(el.id);\n        return el;\n      }\n    });\n  });\n\n  console.log(new_tablesId);\n\n  let tableObj = {\n    ...table,\n    reservation: [],\n  };\n  for (let i = 0; i < table.time.length; i++) {\n    let [h, m, y, mth, d] = table.time[i].split(\"-\");\n    tableObj.reservation.push({\n      hour: h,\n      minute: m,\n      year: y,\n      month: mth,\n      day: d,\n      user: users.find((user) => {\n        return user._id === table.userId[i];\n      }),\n      people: table.people[i],\n      notice: table.notice[i],\n      dishes:\n        table.dishesId.length > 0\n          ? new_tablesId[i].map((dish) => {\n              let re_value = dishes.find((d) => d._id === dish.id);\n              if (re_value) {\n                return {\n                  count: dish.count,\n                  details: re_value,\n                };\n              } else {\n                return \"Ksp\";\n              }\n            })\n          : [],\n    });\n  }\n  return tableObj;\n}\n\nfunction DetailsReservation(props) {\n  //get params\n  const { tableId } = useParams();\n  //find table from id of table\n  let detailsTable = props.tables.tables.find((el) => el._id === tableId);\n  console.log(detailsTable);\n  //create data to render\n  var dataRender = mapDetailTable(\n    detailsTable,\n    props.dishes.dishes,\n    props.users.users\n  );\n\n  console.log(dataRender);\n  //time for today\n  let [month, date, year] = new Date().toLocaleDateString(\"en-US\").split(\"/\");\n  let [hour, minute, second] = new Date()\n    .toLocaleTimeString(\"en-US\")\n    .split(/:| /);\n\n  return (\n    <div className=\"WrapperTable\">\n      <p className=\"Title\">{`Các đơn đã đặt ở Bàn ${detailsTable.name}`}</p>\n      {dataRender.reservation.length ? (\n        <Table\n          className=\"TableDetails\"\n          borderless\n          hover\n          style={{ width: \"62%\" }}\n        >\n          {dataRender.reservation.map((dataReservation, dindex) => {\n            return (\n              <tbody\n                className={\n                  dataReservation.dishes.length === 0 ||\n                  (dataReservation.dishes[dindex] === \"Ksp\" &&\n                    dataReservation.dishes.length === 1)\n                    ? \"none\"\n                    : \"tbody\"\n                }\n                key={dindex}\n              >\n                <tr key={dindex + 1}>\n                  <td\n                    rowSpan={\n                      dataReservation.dishes !== 0\n                        ? dataReservation.dishes.length + 1\n                        : 1\n                    }\n                  >\n                    <div className=\"function\">\n                      <p>\n                        {`${dataReservation.hour}h${dataReservation.minute} - ` +\n                          dataReservation.day ===\n                          date && dataReservation.month === month\n                          ? \"Hôm nay\"\n                          : `Ngày ${dataReservation.day}/${dataReservation.month}/${dataReservation.year}`}\n                      </p>\n                    </div>\n                  </td>\n                  <td style={{ textAlign: \"left\" }}>\n                    <div className=\"userInfo\">\n                      <i className=\"fas fa-circle\"></i>\n                      <p>\n                        Người đặt:\n                        <b>{` ${dataReservation.user.local.name}\\n`}</b>\n                      </p>\n                    </div>\n                    <div className=\"userInfo\">\n                      <i className=\"fas fa-circle\"></i>\n                      <p>\n                        Email liên hệ:\n                        <b>{` ${dataReservation.user.local.email}`}</b>\n                      </p>\n                    </div>\n                  </td>\n                  <td>\n                    <div className=\"function\">\n                      <p>{`${dataReservation.people} người`}</p>\n                    </div>\n                  </td>\n                  <td>\n                    <div className=\"function\">\n                      <p>Thêm</p>\n                      <i className=\"far fa-plus-square\"></i>\n                    </div>\n                  </td>\n                  <td>\n                    <div className=\"function\">\n                      <p>Xóa</p>\n                      <i className=\"far fa-calendar-times\"></i>\n                    </div>\n                  </td>\n                </tr>\n                {dataReservation.dishes.length ? (\n                  dataReservation.dishes.map((dish, i) => {\n                    if (dish === \"Ksp\") {\n                      return <tr key={dindex + 2 + i}></tr>;\n                    } else {\n                      return (\n                        <tr key={i}>\n                          <td colSpan={4}>\n                            <div className=\"function\">\n                              <img\n                                alt={dish.name}\n                                src={dish.details.image}\n                              ></img>\n                              <p>{dish.details.name.toUpperCase()}</p>\n                              <p>{` x${dish.count}`}</p>\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    }\n                  })\n                ) : (\n                  <tr key={dindex + 2}></tr>\n                )}\n              </tbody>\n            );\n          })}\n        </Table>\n      ) : (\n        <p style={{ fontWeight: \"bold\", fontSize: 20 }}>\n          Hiện tại chưa có đơn đặt bàn nào!\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default connect(mapStateToProps)(DetailsReservation);\n","C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\users.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\redux\\reducer\\dishes.js",[],"C:\\Users\\Truong\\Desktop\\2020DACN\\app-admin\\src\\components\\pages\\DishesManage\\DishesManage.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"95","replacedBy":"99"},{"ruleId":"97","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":10,"column":10,"nodeType":"103","messageId":"104","endLine":10,"endColumn":17},{"ruleId":"101","severity":1,"message":"105","line":1,"column":17,"nodeType":"103","messageId":"104","endLine":1,"endColumn":25},{"ruleId":"101","severity":1,"message":"106","line":2,"column":19,"nodeType":"103","messageId":"104","endLine":2,"endColumn":30},{"ruleId":"101","severity":1,"message":"107","line":14,"column":21,"nodeType":"103","messageId":"104","endLine":14,"endColumn":25},{"ruleId":"101","severity":1,"message":"108","line":26,"column":17,"nodeType":"103","messageId":"104","endLine":26,"endColumn":18},{"ruleId":"101","severity":1,"message":"109","line":26,"column":20,"nodeType":"103","messageId":"104","endLine":26,"endColumn":21},{"ruleId":"101","severity":1,"message":"107","line":58,"column":21,"nodeType":"103","messageId":"104","endLine":58,"endColumn":25},{"ruleId":"101","severity":1,"message":"110","line":59,"column":8,"nodeType":"103","messageId":"104","endLine":59,"endColumn":12},{"ruleId":"101","severity":1,"message":"111","line":59,"column":14,"nodeType":"103","messageId":"104","endLine":59,"endColumn":20},{"ruleId":"101","severity":1,"message":"112","line":59,"column":22,"nodeType":"103","messageId":"104","endLine":59,"endColumn":28},{"ruleId":"113","severity":1,"message":"114","line":92,"column":57,"nodeType":"115","messageId":"116","endLine":92,"endColumn":59},{"ruleId":"113","severity":1,"message":"114","line":125,"column":59,"nodeType":"115","messageId":"116","endLine":125,"endColumn":61},{"ruleId":"113","severity":1,"message":"117","line":36,"column":29,"nodeType":"115","messageId":"116","endLine":36,"endColumn":31},{"ruleId":"101","severity":1,"message":"107","line":97,"column":21,"nodeType":"103","messageId":"104","endLine":97,"endColumn":25},{"ruleId":"101","severity":1,"message":"110","line":98,"column":8,"nodeType":"103","messageId":"104","endLine":98,"endColumn":12},{"ruleId":"101","severity":1,"message":"111","line":98,"column":14,"nodeType":"103","messageId":"104","endLine":98,"endColumn":20},{"ruleId":"101","severity":1,"message":"112","line":98,"column":22,"nodeType":"103","messageId":"104","endLine":98,"endColumn":28},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],["118"],["119"],"no-unused-vars","'connect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useDispatch' is defined but never used.","'year' is assigned a value but never used.","'m' is assigned a value but never used.","'y' is assigned a value but never used.","'hour' is assigned a value but never used.","'minute' is assigned a value but never used.","'second' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","Array.prototype.filter() expects a value to be returned at the end of arrow function.","no-global-assign","no-unsafe-negation"]